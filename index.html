<!DOCTYPE html>
<html lang="en"></html>
<head>
  <meta charset="utf-8">
  <!--
  <Bootstrap>core CSS</Bootstrap>
  -->
  <link href="/bootstrap-3.0.0/dist/css/bootstrap.css" rel="stylesheet">
  <!--
  <Custom>styles for this template</Custom>
  -->
  <link href="/bootstrap-3.0.0/examples/starter-template/starter-template.css" rel="stylesheet">
  <!--
  <HTML5>shim and Respond.js IE8 support of HTML5 elements and media queries</HTML5>
  -->
  <!--[if lt IE 9]>
  <script src="/bootstrap-3.0.0/assets/js/html5shiv.js"></script>
  <script src="/bootstrap-3.0.0/assets/js/respond.min.js"></script>
  <![endif]-->
  <!--Syntax highlighting-->
  <link href="/css/tomorrow-night-bright.css" rel="stylesheet">
  <script src="/scripts/highlight.pack.js"></script>
  <script type="text/javascript">hljs.initHighlightingOnLoad();</script>
</head>
<body>
  <div class="navbar navbar-inverse navbar-fixed-top">
    <div class="container">
      <div class="navbar-header">
        <button type="button" data-toggle="collapse" data-target=".navbar-collapse" class="navbar-toggle"><span class="icon-bar"></span><span class="icon-bar"></span><span class="icon-bar"></span></button><a href="/" class="navbar-brand">Jake Stevenson</a>
      </div>
      <div class="collapse navbar-collapse">
        <ul class="nav navbar-nav">
          <li><a href="/">Blog</a></li>
          <li><a href="/about.html">About</a></li>
          <li><a href="/contact.html">Contact</a></li>
        </ul>
      </div>
    </div>
  </div>
</body>
<!--/.nav-collapse
-->
<div class="container">
  <div class="starter-template">
    <h1> Imaginatively Named Blog
    </h1>
    <p class="lead">Notes about software development
    </p>
  </div>
  <div class="bs-example">
    <article class="article intro">
      <header>
        <p class="date"><span>02. October 2013</span></p>
        <h2><a href="/articles/2013-10-02-CloudDevMachine/">Cloud Development Machine In Azure</a></h2>
      </header>
      <section class="content"><p>I need a new development laptop.  I prefer Macbook Pros.  But it’s Oct 2<span class="ord">nd</span> and the highly likely rumor is that Apple will announce the new version of the <span class="caps">MBP</span> on October 15<span class="ord">th</span>. I will be VERY unhappy if the new line comes out so soon after such a major purchase, so I need to hold off and make due with something else for a&nbsp;while.</p>
<p>I have a nearly 10 year old 15” dell laptop sitting on a shelf in my office.  It has a 2G of <span class="caps">RAM</span> (maximum, absolutely cannot be ugraded) and god knows how old and slow of a CPU.  It currently runs Ubuntu VERY SLOWLY.  I can’t imagine trying to run VS.NET 2012 on it without feeling a lot of pain.  But it IS able to run an RDP client, and that can open up all sorts of possibilities for&nbsp;me.</p>
<p>I decided I’ll run my development machine <strong><span class="caps">IN</span> THE CLOUD</strong> for a couple of weeks while I wait.  Then I can just <span class="caps">RDP</span> to it from any terrible machine (even my ipad!) and get some work done!  Doesn’t matter where I am as long as I have internet access, and I <em>always</em> have internet access&nbsp;dammit.</p>
<p>So first, picking a cloud provider to run it.  I’ve used Amazon <span class="caps">EC2</span> plenty in the past.  It’s pretty easy to deal with.  I checked it out.  To run Windows on a decently powered “Large” VM it’ll cost $.364 an hour.  They’ll let you run free VMs for a year, but those are only “Micro” which equals up pretty closely with the hardware on my 10 year old laptop.  I also jumped on that free trial a long time ago and am no longer eligible.  So at $.364 and hour I’d estimate a cost of $58.24 to run it 40 hours for 4 weeks while I get all set up.  Not bad&nbsp;really.  </p>
<p>But then I saw Azure has a free trial too.  $200 free for one month.  I hadn’t looked at Azure in a long time, but I keep reading about how much friendlier it has become.  So I decided to give it a&nbsp;shot.</p>
<p>Amazingly easy to set up.  Just entered my old hotmail/live/outlook.com/whatever you want to call it account name and password.  Confirmed the account and entered billing information (for when I forget to turn this thing off at the end of the month and they can hit me).  Within 5 minutes I was looking at the “portal” and ready to create a&nbsp;<span class="caps">VM</span>.</p>
<p>And that was easy too!  Click “+<span class="caps">NEW</span>” on the bottom menu and choose “Virtual Machine”, then “From Gallery.”  They have all sorts of nice options in here, ubuntu servers, suse servers, windows 2012, and… “Visual Studio Ultimate 2013 RC”!  Looks like it’s a nice windows OS loaded up with VS.NET 2013 and all the fixings already.  Let’s give it a&nbsp;try…</p>
<p><img src="/articles/2013-10-02-CloudDevMachine/ChooseVM.jpeg" alt="Choose your VM" title="Choose your VM"></p>
<p>After that you enter a simple name and <span class="caps">VM</span> size.  I picked “Large” because it’s 4 cores with 7G of memory.  Seems plenty enough for coding.  After that you set up how it will be accessed (RDP enabled by default) and some other simple stuff I forget and then it spins it&nbsp;up.</p>
<p>After about 10 minutes it’s there, ready for me. I’m armed with admin credentials and I’m not afraid to use them.  Install Chrome, cygwin, github for windows, node.js.  Everything goes nice and fast.  This is&nbsp;great!</p>
<p>So that’s my plan for a bit, until I’m sure my laptop purchase won’t immediately become obsolete.  Development <strong><span class="caps">IN</span> THE CLOUD</strong> free for a&nbsp;month.    </p>
<p><img src="/articles/2013-10-02-CloudDevMachine/DesktopReady.jpeg" alt="Desktop Ready" title="Desktop Ready"></p>

      </section>
    </article>
    <article class="article intro">
      <header>
        <p class="date"><span>27. September 2013</span></p>
        <h2><a href="/articles/2013-09-27-ResolvingArraysInTinyIOC/">Resolving Arrays In TinyIOC</a></h2>
      </header>
      <section class="content"><p>Well if I’m going to be writing about software development, I better actually get to some technical&nbsp;stuff.</p>
<p>We’ve been using NancyFX to create a pretty quick and easy <span class="caps">API</span> wrapper around a lot of our business logic.  By default, NancyFX uses TinyIOC as an IOC contaner, and it’s pretty nice.  It’s very simple and it does basic auto-registration of all the classes&nbsp;inside.  </p>
<p>Most of our products use Windsor as the container. I’d considered doing the work to make Windsor the container in our NancyFX <span class="caps">API</span> project, but decided I shouldn’t have to.  It seems the code should be container-agnostic and it shouldn’t really matter what container we use for a particular output.  And for 95% of the stuff I was&nbsp;right.</p>
<p>But we did hit a snag.  Some of our services depended on resolving an array of dependencies.  Something like&nbsp;this:</p>
<pre><code>public class SomeService
 {
   private ISomeInterface _dependencies{get;set;}
   public SomeService(ISomeInterface[] dependencies)
   {
     _depencencies = dependencies; 
   }

   public void DoSomething()
   {
     //Loop through the dependencies doing something with each of them
   }
}</code></pre>
<p>Windsor has a subresolver that allows this pattern, resolving arrays instead of just single classes.  Just do <code>container.Kernel.Resolver.AddSubResolver(new ArrayResolver(container.Kernel)</code> (what a mouthful).  But TinyIOC didn’t do&nbsp;this.  </p>
<p>But TinyIOC does let you register factories as anonymous functions.  This was key to letting it resolve the array.  I can’t do it automatically for any array of types, but I was able to do a simple one for&nbsp;this:</p>
<pre><code>container.Register&lt;ISomeInterface[]&gt;((c, p) =&gt;
{
    //Assuming all implementations come from the same assembly as the interface itself
    var allOfSomeInterface  = (from t in Assembly.GetAssembly(typeof (ISomeInterface)).GetTypes()
        where t.GetInterfaces().Contains(typeof (ISomeInterface))
        select t).ToArray();
    return allOfSomeInterface.Select(implementation =&gt; (ISomeInterface) container.Resolve(implementation)).ToArray();
});</code></pre>
<p>Kinda ugly, but also seems to make sense to me.  If I want to resolve all types matching the interface, I first use reflection to discover those types, then resolve each of those implementations from the container and return an array of&nbsp;them.</p>

      </section>
    </article>
    <article class="article intro">
      <header>
        <p class="date"><span>20. September 2013</span></p>
        <h2><a href="/articles/changes/">Changes</a></h2>
      </header>
      <section class="content"><p>Of course there’s a reason I’m starting up a new blog — I’m making a change in my career and I’d like to start it off on the right&nbsp;foot.  </p>
<p>I’ve always been averse to change.  It makes my wife crazy because I resist her re-arranging the furniture.  I resist throwing out an old pair of sneakers and buying new ones.  Moving? I’ve told her I plan to die in our current&nbsp;house.</p>
<p>So making a career change is especially nerve-wracking.  I do not like it.  It usually takes quite a lot to “push” me out the door at a job, like not paying me (not the case this time) for a few months.  I grow attached to my projects.  I grow fond of my co-workers.  I get very comfortable in my little corner of the&nbsp;world.</p>
<p>And I get stagnant.  I might get a bit <span class="caps">TOO</span> comfortable.  I start to turn a blind eye to some of the dirtier code corners in the&nbsp;project.  </p>
<p>So it’s time for a forced change.  A forced change that will lead to more changes.  I’m going back into the consulting field, where you don’t have as much opportunity to stagnate.  I’m excited about throwing myself in the deep end of new projects again.  And learning and helping and building upon that when I go to the next project.  I’ve done it before and know it will be challenging— and I think those challenges are exactly what I need today.  That doesn’t stop my heart from skipping a beat every time I start thinking about the changes coming&nbsp;up.</p>
<p>I’m sorry to leave my previous employer.  They have treated me exceedingly well and given me great freedom.  I hate it that my leaving will have even the slightest impact on them.  But it’s a choice I have to make eventually, and I can hope it will be good for both of us in the long&nbsp;run. </p>

      </section>
    </article>
  </div>
</div>
<!--/.container
-->
<!--
<Bootstrap>core JavaScript</Bootstrap>
-->
<!--
<Placed>at the end of the document so the pages load faster</Placed>
-->
<script src="/bootstrap-3.0.0/assets/js/jquery.js"></script>
<script src="/bootstrap-3.0.0/dist/js/bootstrap.min.js"></script>